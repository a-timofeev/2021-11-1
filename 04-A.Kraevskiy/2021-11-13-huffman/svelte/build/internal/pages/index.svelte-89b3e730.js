var ue=Object.defineProperty;var Z=Object.getOwnPropertySymbols;var ce=Object.prototype.hasOwnProperty,ie=Object.prototype.propertyIsEnumerable;var x=(l,e,t)=>e in l?ue(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t,Y=(l,e)=>{for(var t in e||(e={}))ce.call(e,t)&&x(l,t,e[t]);if(Z)for(var t of Z(e))ie.call(e,t)&&x(l,t,e[t]);return l};import{S as G,i as J,s as K,e as q,c as C,a as w,d as m,b as R,f as E,I as Q,t as v,g as y,h as V,l as ee,D as de,H as p,J as _e,K as me,k as A,n as S,E as he,F as pe,G as ge,L as $e,x as D,u as B,M as ve,N as ye,j as N,m as H,O as U,o as M,P as te,v as P,Q as ne}from"../chunks/vendor-d767adeb.js";const Ee=l=>l.split("").reduce((e,t)=>(e[t]?e[t]+=1:e[t]=1,e),{}),be=l=>{if(Object.keys(l).length===0)return;if(Object.keys(l).length===1)return Object.keys(l)[0];let e=Object.entries(l).map(([n,r])=>({node:n,nodeSum:r})).sort((n,r)=>r.nodeSum-n.nodeSum);for(;e.length>1;){const n=e.pop(),r=e.pop(),o={1:n.node,0:r.node},a=n.nodeSum+r.nodeSum;e.push({node:o,nodeSum:a}),e.sort((f,i)=>i.nodeSum-f.nodeSum)}return e[0].node},qe=l=>{for(const e in l)l[e]=l[e].split("").reverse().join("")},Ce=l=>{if(l===void 0)return;if(typeof l!="object")return{[l]:"0"};const e=n=>{if(typeof n!="object")return{[n]:""};const r=e(n[0]),o=e(n[1]);for(let a in r)r[a]+="0";for(let a in o)o[a]+="1";return Y(Y({},r),o)},t=e(l);return qe(t),t},we=l=>l.charCodeAt(0).toString(2),ke=l=>{if(l===void 0)return;let e="";const t=n=>{if(typeof n=="string"){const r=we(n);e+="1"+"0".repeat(16-r.length)+r;return}else e+="0";t(n[0]),t(n[1])};return t(l),e},Te=(l,e)=>l.split("").map(t=>e[t]).join(""),Ie=(l,e)=>{const t=4,n=l.length+e.length+t,r=(16-n%16)%16;return"0".repeat(t-r.toString(2).length)+r.toString(2)+l+e+"0".repeat(r)},le=l=>{if(typeof l!="string")throw new TypeError("text must be a string");if(l==="")return{frequency:{},tree:void 0,codes:{},codedTree:"",codedText:"",fullCode:""};const e=Ee(l),t=be(e),n=Ce(t),r=ke(t),o=Te(l,n),a=Ie(r,o);return{frequencies:e,tree:t,codes:n,codedTree:r,codedText:o,fullCode:a}};class re extends Error{constructor(e){super(e);this.name="InvalidCodeError"}}const Oe=l=>{if(l.length%16!=0||(l.match(/[01]/g)||[]).length<l.length)return;const e=parseInt(l.slice(0,4),2),t=l.slice(4,l.length-e);let n=0,r={};if(t[n]==="1")n++,r=String.fromCharCode(parseInt(t.slice(n,n+16),2)),n+=16;else{const a=f=>{if(!(n+1+16>t.length)){if(t[n]==="0")n++,f["0"]={},a(f["0"]);else{n++;const i=String.fromCharCode(parseInt(t.slice(n,n+16),2));f["0"]=i,n+=16}if(t[n]==="0")n++,f["1"]={},a(f["1"]);else{n++;const i=String.fromCharCode(parseInt(t.slice(n,n+16),2));f["1"]=i,n+=16}}};n++,a(r)}let o="";if(typeof r=="string"){if(t.length-n<=0)throw new re("Invalid code");o=r.repeat(t.length-n)}else{const a=f=>{if(typeof f=="string")return f;if(n>=t.length)throw new re("Invalid code");return a(f[t[n++]])};for(;n<t.length;)o+=a(r)}return o};function Re(l){let e,t,n,r=l[0].length+"",o,a;return{c(){e=v(`Wrong code :(
		`),t=q("br"),n=v(`
		Encoded `),o=v(r),a=v(" bites \xAF\\_(\u30C4)_/\xAF")},l(f){e=y(f,`Wrong code :(
		`),t=C(f,"BR",{}),n=y(f,`
		Encoded `),o=y(f,r),a=y(f," bites \xAF\\_(\u30C4)_/\xAF")},m(f,i){E(f,e,i),E(f,t,i),E(f,n,i),E(f,o,i),E(f,a,i)},p(f,i){i&1&&r!==(r=f[0].length+"")&&V(o,r)},d(f){f&&m(e),f&&m(t),f&&m(n),f&&m(o),f&&m(a)}}}function Ae(l){let e,t,n,r,o,a,f,i,d,h,u=l[1]&&se(l);return{c(){e=v("Original "),t=v(l[1]),n=v(` bites
		`),r=q("br"),o=v(`
		Encoded `),a=v(l[2]),f=v(" bites"),i=q("br"),d=v(`
		Ratio
		`),u&&u.c(),h=ee()},l(s){e=y(s,"Original "),t=y(s,l[1]),n=y(s,` bites
		`),r=C(s,"BR",{}),o=y(s,`
		Encoded `),a=y(s,l[2]),f=y(s," bites"),i=C(s,"BR",{}),d=y(s,`
		Ratio
		`),u&&u.l(s),h=ee()},m(s,c){E(s,e,c),E(s,t,c),E(s,n,c),E(s,r,c),E(s,o,c),E(s,a,c),E(s,f,c),E(s,i,c),E(s,d,c),u&&u.m(s,c),E(s,h,c)},p(s,c){c&2&&V(t,s[1]),c&4&&V(a,s[2]),s[1]?u?u.p(s,c):(u=se(s),u.c(),u.m(h.parentNode,h)):u&&(u.d(1),u=null)},d(s){s&&m(e),s&&m(t),s&&m(n),s&&m(r),s&&m(o),s&&m(a),s&&m(f),s&&m(i),s&&m(d),u&&u.d(s),s&&m(h)}}}function se(l){let e=Math.floor(l[2]/l[1]*100)/100+"",t;return{c(){t=v(e)},l(n){t=y(n,e)},m(n,r){E(n,t,r)},p(n,r){r&6&&e!==(e=Math.floor(n[2]/n[1]*100)/100+"")&&V(t,e)},d(n){n&&m(t)}}}function Se(l){let e;function t(o,a){return o[1]!==null?Ae:Re}let n=t(l),r=n(l);return{c(){e=q("p"),r.c(),this.h()},l(o){e=C(o,"P",{class:!0});var a=w(e);r.l(a),a.forEach(m),this.h()},h(){R(e,"class","svelte-zs7u6i")},m(o,a){E(o,e,a),r.m(e,null)},p(o,[a]){n===(n=t(o))&&r?r.p(o,a):(r.d(1),r=n(o),r&&(r.c(),r.m(e,null)))},i:Q,o:Q,d(o){o&&m(e),r.d()}}}function je(l,e,t){let n,{encoded:r=""}=e,{original:o=""}=e,a=null;return l.$$set=f=>{"encoded"in f&&t(0,r=f.encoded),"original"in f&&t(3,o=f.original)},l.$$.update=()=>{l.$$.dirty&8&&o!==null&&t(1,a=o.length*16),l.$$.dirty&1&&t(2,n=r.length)},[r,a,n,o]}class oe extends G{constructor(e){super();J(this,e,je,Se,K,{encoded:0,original:3})}}function fe(l,e,t){const n=l.slice();return n[3]=e[t],n}function Le(l){let e;return{c(){e=v("Frequency")},l(t){e=y(t,"Frequency")},m(t,n){E(t,e,n)},d(t){t&&m(e)}}}function ae(l,e){let t,n,r=e[3].letter+"",o,a,f=e[3].code+"",i,d,h=Q;return{key:l,first:null,c(){t=q("span"),n=v("'"),o=v(r),a=v("': "),i=v(f),this.h()},l(u){t=C(u,"SPAN",{class:!0});var s=w(t);n=y(s,"'"),o=y(s,r),a=y(s,"': "),i=y(s,f),s.forEach(m),this.h()},h(){R(t,"class","frequency-element svelte-fslajw"),this.first=t},m(u,s){E(u,t,s),p(t,n),p(t,o),p(t,a),p(t,i)},p(u,s){e=u,s&1&&r!==(r=e[3].letter+"")&&V(o,r),s&1&&f!==(f=e[3].code+"")&&V(i,f)},r(){d=t.getBoundingClientRect()},f(){_e(t),h()},a(){h(),h=me(t,d,ve,{})},d(u){u&&m(t)}}}function Fe(l){let e,t,n,r=[],o=new Map,a;const f=l[2].default,i=de(f,l,l[1],null),d=i||Le();let h=l[0];const u=s=>s[3].letter;for(let s=0;s<h.length;s+=1){let c=fe(l,h,s),$=u(c);o.set($,r[s]=ae($,c))}return{c(){e=q("div"),t=q("h4"),d&&d.c(),n=A();for(let s=0;s<r.length;s+=1)r[s].c();this.h()},l(s){e=C(s,"DIV",{class:!0});var c=w(e);t=C(c,"H4",{class:!0});var $=w(t);d&&d.l($),$.forEach(m),n=S(c);for(let k=0;k<r.length;k+=1)r[k].l(c);c.forEach(m),this.h()},h(){R(t,"class","svelte-fslajw"),R(e,"class","svelte-fslajw")},m(s,c){E(s,e,c),p(e,t),d&&d.m(t,null),p(e,n);for(let $=0;$<r.length;$+=1)r[$].m(e,null);a=!0},p(s,[c]){if(i&&i.p&&(!a||c&2)&&he(i,f,s,s[1],a?ge(f,s[1],c,null):pe(s[1]),null),c&1){h=s[0];for(let $=0;$<r.length;$+=1)r[$].r();r=$e(r,c,u,1,s,h,o,e,ye,ae,null,fe);for(let $=0;$<r.length;$+=1)r[$].a()}},i(s){a||(D(d,s),a=!0)},o(s){B(d,s),a=!1},d(s){s&&m(e),d&&d.d(s);for(let c=0;c<r.length;c+=1)r[c].d()}}}function De(l,e,t){let{$$slots:n={},$$scope:r}=e,{frequency:o=[]}=e;return l.$$set=a=>{"frequency"in a&&t(0,o=a.frequency),"$$scope"in a&&t(1,r=a.$$scope)},[o,r,n]}class W extends G{constructor(e){super();J(this,e,De,Fe,K,{frequency:0})}}function Be(l){let e;return{c(){e=v("Codes")},l(t){e=y(t,"Codes")},m(t,n){E(t,e,n)},d(t){t&&m(e)}}}function Ne(l){let e,t,n,r,o,a,f,i,d,h,u,s,c,$,k,j,L,T,F,z;return c=new oe({props:{original:l[0],encoded:l[2]}}),k=new W({props:{frequency:l[1]}}),L=new W({props:{frequency:l[3],$$slots:{default:[Be]},$$scope:{ctx:l}}}),{c(){e=q("div"),t=q("h2"),n=v("Encoding"),r=A(),o=q("lable"),a=v(`Input\r
		`),f=q("textarea"),i=A(),d=q("lable"),h=v(`Result\r
		`),u=q("textarea"),s=A(),N(c.$$.fragment),$=A(),N(k.$$.fragment),j=A(),N(L.$$.fragment),this.h()},l(b){e=C(b,"DIV",{class:!0});var _=w(e);t=C(_,"H2",{});var g=w(t);n=y(g,"Encoding"),g.forEach(m),r=S(_),o=C(_,"LABLE",{});var O=w(o);a=y(O,`Input\r
		`),f=C(O,"TEXTAREA",{class:!0}),w(f).forEach(m),O.forEach(m),i=S(_),d=C(_,"LABLE",{});var I=w(d);h=y(I,`Result\r
		`),u=C(I,"TEXTAREA",{class:!0}),w(u).forEach(m),I.forEach(m),s=S(_),H(c.$$.fragment,_),$=S(_),H(k.$$.fragment,_),j=S(_),H(L.$$.fragment,_),_.forEach(m),this.h()},h(){R(f,"class","svelte-14191at"),u.value=l[2],u.readOnly=!0,R(u,"class","svelte-14191at"),R(e,"class","svelte-14191at")},m(b,_){E(b,e,_),p(e,t),p(t,n),p(e,r),p(e,o),p(o,a),p(o,f),U(f,l[0]),p(e,i),p(e,d),p(d,h),p(d,u),p(e,s),M(c,e,null),p(e,$),M(k,e,null),p(e,j),M(L,e,null),T=!0,F||(z=te(f,"input",l[4]),F=!0)},p(b,[_]){_&1&&U(f,b[0]),(!T||_&4)&&(u.value=b[2]);const g={};_&1&&(g.original=b[0]),_&4&&(g.encoded=b[2]),c.$set(g);const O={};_&2&&(O.frequency=b[1]),k.$set(O);const I={};_&8&&(I.frequency=b[3]),_&32&&(I.$$scope={dirty:_,ctx:b}),L.$set(I)},i(b){T||(D(c.$$.fragment,b),D(k.$$.fragment,b),D(L.$$.fragment,b),T=!0)},o(b){B(c.$$.fragment,b),B(k.$$.fragment,b),B(L.$$.fragment,b),T=!1},d(b){b&&m(e),P(c),P(k),P(L),F=!1,z()}}}function He(l,e,t){let n="",r="",o=[],a=[];function f(){n=this.value,t(0,n)}return l.$$.update=()=>{if(l.$$.dirty&3){const i=le(n);t(2,r=i.fullCode),t(1,o=Object.entries(i.frequencies||{}).map(([d,h])=>({letter:d,code:h})).sort((d,h)=>h.code-d.code)),t(3,a=o.map(({letter:d})=>({letter:d,code:i.codes[d]})))}},[n,o,r,a,f]}class Me extends G{constructor(e){super();J(this,e,He,Ne,K,{})}}function Pe(l){let e;return{c(){e=v("Codes")},l(t){e=y(t,"Codes")},m(t,n){E(t,e,n)},d(t){t&&m(e)}}}function Xe(l){let e,t,n,r,o,a,f,i,d,h,u,s,c,$,k,j,L,T,F,z,b;return $=new oe({props:{original:l[1],encoded:l[0]}}),j=new W({props:{frequency:l[2]}}),T=new W({props:{frequency:l[3],$$slots:{default:[Pe]},$$scope:{ctx:l}}}),{c(){e=q("div"),t=q("h2"),n=v("Decoding"),r=A(),o=q("lable"),a=v(`Input\r
		`),f=q("textarea"),i=A(),d=q("lable"),h=v(`Result\r
		`),u=q("textarea"),c=A(),N($.$$.fragment),k=A(),N(j.$$.fragment),L=A(),N(T.$$.fragment),this.h()},l(_){e=C(_,"DIV",{class:!0});var g=w(e);t=C(g,"H2",{});var O=w(t);n=y(O,"Decoding"),O.forEach(m),r=S(g),o=C(g,"LABLE",{});var I=w(o);a=y(I,`Input\r
		`),f=C(I,"TEXTAREA",{class:!0}),w(f).forEach(m),I.forEach(m),i=S(g),d=C(g,"LABLE",{});var X=w(d);h=y(X,`Result\r
		`),u=C(X,"TEXTAREA",{class:!0}),w(u).forEach(m),X.forEach(m),c=S(g),H($.$$.fragment,g),k=S(g),H(j.$$.fragment,g),L=S(g),H(T.$$.fragment,g),g.forEach(m),this.h()},h(){R(f,"class","svelte-1mxeds9"),u.value=s=l[1]===null?"wrong code":l[1],u.readOnly=!0,R(u,"class","svelte-1mxeds9"),ne(u,"wrong",l[1]===null),R(e,"class","svelte-1mxeds9")},m(_,g){E(_,e,g),p(e,t),p(t,n),p(e,r),p(e,o),p(o,a),p(o,f),U(f,l[0]),p(e,i),p(e,d),p(d,h),p(d,u),p(e,c),M($,e,null),p(e,k),M(j,e,null),p(e,L),M(T,e,null),F=!0,z||(b=te(f,"input",l[4]),z=!0)},p(_,[g]){g&1&&U(f,_[0]),(!F||g&2&&s!==(s=_[1]===null?"wrong code":_[1]))&&(u.value=s),g&2&&ne(u,"wrong",_[1]===null);const O={};g&2&&(O.original=_[1]),g&1&&(O.encoded=_[0]),$.$set(O);const I={};g&4&&(I.frequency=_[2]),j.$set(I);const X={};g&8&&(X.frequency=_[3]),g&32&&(X.$$scope={dirty:g,ctx:_}),T.$set(X)},i(_){F||(D($.$$.fragment,_),D(j.$$.fragment,_),D(T.$$.fragment,_),F=!0)},o(_){B($.$$.fragment,_),B(j.$$.fragment,_),B(T.$$.fragment,_),F=!1},d(_){_&&m(e),P($),P(j),P(T),z=!1,b()}}}function ze(l,e,t){let n="",r="",o="",a="";function f(){n=this.value,t(0,n)}return l.$$.update=()=>{if(l.$$.dirty&7)if(t(1,r=Oe(n)),r===void 0)t(1,r=null);else{const i=le(r);t(2,o=Object.entries(i.frequencies||{}).map(([d,h])=>({letter:d,code:h})).sort((d,h)=>h.code-d.code)),t(3,a=o.map(({letter:d})=>({letter:d,code:i.codes[d]})))}},[n,r,o,a,f]}class Ve extends G{constructor(e){super();J(this,e,ze,Xe,K,{})}}function Ge(l){let e,t,n,r,o,a,f,i,d;return a=new Me({}),i=new Ve({}),{c(){e=q("main"),t=q("h1"),n=v("Huffman"),r=A(),o=q("div"),N(a.$$.fragment),f=A(),N(i.$$.fragment),this.h()},l(h){e=C(h,"MAIN",{class:!0});var u=w(e);t=C(u,"H1",{class:!0});var s=w(t);n=y(s,"Huffman"),s.forEach(m),r=S(u),o=C(u,"DIV",{class:!0});var c=w(o);H(a.$$.fragment,c),f=S(c),H(i.$$.fragment,c),c.forEach(m),u.forEach(m),this.h()},h(){R(t,"class","svelte-r0vr2d"),R(o,"class","svelte-r0vr2d"),R(e,"class","svelte-r0vr2d")},m(h,u){E(h,e,u),p(e,t),p(t,n),p(e,r),p(e,o),M(a,o,null),p(o,f),M(i,o,null),d=!0},p:Q,i(h){d||(D(a.$$.fragment,h),D(i.$$.fragment,h),d=!0)},o(h){B(a.$$.fragment,h),B(i.$$.fragment,h),d=!1},d(h){h&&m(e),P(a),P(i)}}}class Qe extends G{constructor(e){super();J(this,e,null,Ge,K,{})}}export{Qe as default};
